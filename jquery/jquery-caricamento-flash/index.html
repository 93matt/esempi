<!DOCTYPE html> 
<html> 
<head> 
<title>jQuery: caricamento Flash</title> 
<meta charset="utf-8" /> 
<style> 
html, body {
	margin: 0;
	padding: 0;
	height: 100%;
	width: 100%;
	min-height: 100%;
}
 
body {
	position: relative;
}
 
#overlay {
	width: 100%;
	height: 100%;
	position: absolute;
	top: 0;
	left: 0;
	background: #444;
}
 
#loader {
	width: 200px;
	height: 40px;
	position: absolute;
	top: 50%;
	left: 50%;
	margin: -10px 0 0 -80px;
	background: #fff;
}
 
#loader span {
	width: 0px;
	display: block;
	height: 40px;
	background: url(bg.png) repeat-x;
}
</style> 
</head> 
 
<body> 
 
 
 
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script> 
<script type="text/javascript"> 
$(function() {
  $('<div id="overlay"/>').css('opacity', '0.5').
  appendTo('body').hide();
  $('<div id="loader"/>').appendTo('body').hide();
   $('<span/>').appendTo('#loader');
  
  setTimeout(function() {
  
     $('#overlay, #loader').show();
     
     var counter = 0;
     
     var interval = setInterval(function() {
     
       counter++;
       
       if(counter == 10) {
       
         clearInterval(interval);
         $('#overlay, #loader').hide();
         $('span', '#loader').css('width', '0px');
       
       
       }
       
       $('span', '#loader').animate({
         width: '+=20px'
       });
       
      
     
     }, 500);
  
  
  }, 50);
 
 
});
</script> 
 
</body> 
</html>