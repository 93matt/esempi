<!DOCTYPE html>
<html>
<head>
<title>jQuery: usare i deferred objects con le animazioni</title>
<meta charset="utf-8" />
<style type="text/css">
#test {
	width: 100px;
	height: 100px;
	background: #d34545;
	position: relative;
	cursor: pointer;
}
</style>
</head>

<body>

<div id="test"></div>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script type="text/javascript">
$(function() {

	var Animator = {
	
		element: '#test',
		
		moveTo: function(offset) {
		    
		    offset = offset || 0;
		
			$(Animator.element).animate({
				left: offset
			}, 1000);
		
		},
		
		moveDown: function() {
		
			$(Animator.element).animate({
				top: 100
			}, 1000);		
		},
		
		moveUp: function() {
		
			$(Animator.element).animate({
				top: 0
			}, 1000);
		
		
		}
		
		
	
	};
	
	$('#test').click(function() {
	
		$.when(Animator.moveTo(500), Animator.moveDown())
       .then(function() {
       
       		Animator.moveTo();
       		Animator.moveUp();
       
       });
	
	
	});

});
</script>
</body>
</html>