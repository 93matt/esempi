<!DOCTYPE html>
<html>
<head>
<title>jQuery: finestra di dialogo modale trascinabile</title>
<meta charset="utf-8" />
<style type="text/css">
body {
	font: 100% Arial, sans-serif;
}

#open {
	font-weight: bold;
	background: #d34545;
	color: #fff;
	padding: 0.3em 1.2em;
	text-decoration: none;
}

#open:hover {
	background: #f84a38;
}

#modal {
	position: absolute;
	top: 50%;
	left: 50%;
	width: 300px;
	height: 300px;
	margin: -150px 0 0 -150px;
	background: url(modal.png) no-repeat;
	color: #fff;
	display: none;
	z-index: 2;
}

#modal #close {
	position: absolute;
	width: 30px;
	height: 30px;
	text-indent: -1000em;
	background: url(close.png) no-repeat;
	top: - 0.5em;
	right: 0.5em;
}

#modal p {
	padding: 3em;
	margin: 0;
	line-height: 1.4;
	font-size: 1.2em;
}

#overlay {
	width: 100%;
	height: 100%;
	position: absolute;
	top: 0;
	left: 0;
	background: #000;
	display: none;
	z-index: 1;
}
</style>
</head>

<body>

<p><a href="#" id="open">Apri</a></p>

<div id="modal">
	<a href="#" id="close">Chiudi</a>
	<p>Lorem ipsum dolor sit amet consectetur adipiscing elit.</p>
</div>

<div id="overlay"></div>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1/jquery-ui.min.js"></script>

<script type="text/javascript">
$(function() {

	$('#overlay').css('opacity', 0.5);

	$('#open').click(function(event) {
	
		$('#modal').css({
			top: '50%',
			left: '50%',
			margin: '-150px 0 0 -150px'
		});
	
		
	    $('#overlay, #modal').show();
		
	
		event.preventDefault();
	});
	
	$('#close').click(function(event) {
	
		$('#modal, #overlay').hide();
	
		event.preventDefault();
	
	
	});
	
	$('#modal').draggable({
		start: function() {
		
			$('#overlay').hide();
		
		},
		
		stop: function() {
		
			$('#overlay').show();
		
		}
	});

});
</script>

</body>
</html>